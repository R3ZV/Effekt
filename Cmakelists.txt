set(CMAKE_POLICY_VERSION_MINIMUM 3.5)
cmake_minimum_required(VERSION 4.0)
project(AudioProcessorProject)
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

# Include the FetchContent module
include(FetchContent)

# Declare the external library
# We're pulling libsndfile directly from its official GitHub repository
FetchContent_Declare(
  libsndfile
  GIT_REPOSITORY https://github.com/libsndfile/libsndfile.git
  GIT_TAG        1.2.2 # It's safer to point to a specific version/tag
)

# Make the library available
# This downloads the code at 'Configure' time
FetchContent_MakeAvailable(libsndfile)

# 4. Define source files
set(SOURCE_FILES
    SVF.cpp
)

add_executable(AudioProcessor ${SOURCE_FILES})

# Link the library
# FetchContent creates a target usually named 'sndfile'
target_link_libraries(AudioProcessor PRIVATE sndfile)

# Include directories 
target_include_directories(AudioProcessor PRIVATE ${libsndfile_SOURCE_DIR}/include)